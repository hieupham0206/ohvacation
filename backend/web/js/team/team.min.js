var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,e){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var f=a[c];if(d.call(e,f,c,a))return{i:c,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=e.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,e,b){if(d){e=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in e||(e[c]={});e=e[c]}a=a[a.length-1];b=e[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
(function(a){var d=a("html").attr("lang");if(a.isFunction(a.fn.dataTable)){var e={sLengthMenu:"Display  _MENU_ records per page",sSearch:"Search:",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},sEmptyTable:"No data available",sProcessing:"Loading...",sZeroRecords:"No matching records found",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sUrl:""};"vi"===d&&(e=
{sEmptyTable:"Kh\u00f4ng c\u00f3 d\u1eef li\u1ec7u",sProcessing:"\u0110ang x\u1eed l\u00fd...",sLengthMenu:"Xem _MENU_ m\u1ee5c",sZeroRecords:"Kh\u00f4ng t\u00ecm th\u1ea5y d\u00f2ng n\u00e0o ph\u00f9 h\u1ee3p",sInfo:"\u0110ang xem _START_ \u0111\u1ebfn _END_ trong t\u1ed5ng s\u1ed1 _TOTAL_ m\u1ee5c",sInfoEmpty:"\u0110ang xem 0 \u0111\u1ebfn 0 trong t\u1ed5ng s\u1ed1 0 m\u1ee5c",sInfoFiltered:"(\u0111\u01b0\u1ee3c l\u1ecdc t\u1eeb _MAX_ m\u1ee5c)",sInfoPostFix:"",sSearch:"T\u00ecm:",sUrl:"",oPaginate:{sFirst:"\u0110\u1ea7u",
sPrevious:"Tr\u01b0\u1edbc",sNext:"Ti\u1ebfp",sLast:"Cu\u1ed1i"}});a.fn.dataTable.pipeline=function(b){var c=a.extend({pages:5,url:"",data:null,method:"POST"},b),f=-1,d=null,e=null,n=null;return function(b,k,h){var m=!1,g=b.start,p=b.start,l=b.length,q=g+l;if(h.clearCache)m=!0,h.clearCache=!1;else if(0>f||g<f||q>d)m=!0;else if(JSON.stringify(b.order)!==JSON.stringify(e.order)||JSON.stringify(b.columns)!==JSON.stringify(e.columns)||JSON.stringify(b.search)!==JSON.stringify(e.search))m=!0;e=a.extend(!0,
{},b);m?(g<f&&(g-=l*(c.pages-1),0>g&&(g=0)),f=g,d=g+l*c.pages,b.start=g,b.length=l*c.pages,a.isFunction(c.data)?(g=c.data(b))&&a.extend(b,g):a.isPlainObject(c.data)&&a.extend(b,c.data),h.jqXHR=a.ajax({type:c.method,url:c.url,data:b,dataType:"json",cache:!1,success:function(b){n=a.extend(!0,{},b);f!==p&&b.data.splice(0,p-f);b.data.splice(l,b.data.length);k(b)}})):(h=a.extend(!0,{},n),h.draw=b.draw,h.data.splice(0,g-f),h.data.splice(l,h.data.length),k(h))}};a.fn.dataTable.Api.register("clearPipeline()",
function(){a.blockUI();return this.iterator("table",function(a){a.clearCache=!0})});a.extend(!0,a.fn.dataTable.defaults,{oLanguage:e,info:!1,lengthChange:!1,searching:!1,columnDefs:[{targets:[0,-1],searchable:!1,orderable:!1,visible:!0}],order:[],iDisplayLength:10})}a.isFunction(a.blockUI)&&a.extend(!0,a.blockUI.defaults,{message:'<i class="fa fa-spinner fa-spin"></i> '+("vi"===d?"Vui l\u00f2ng \u0111\u1ee3i...":"Please wait..."),css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px",
"-moz-border-radius":"10px",opacity:.5,color:"#fff"},baseZ:9999});"object"===typeof bootbox&&bootbox.setDefaults({locale:d,show:!0,backdrop:!0,closeButton:!0,animate:!0,className:"my-modal"});a.isFunction(a.fn.select2)&&(a.extend(!0,a.fn.select2.defaults.defaults,{width:"100%",allowClear:!0,placeholder:"vi"===d?"Ch\u1ecdn":"Choose"}),a(".select").select2(),a.fn.select2Ajax=function(b){var c={ajax:{url:b.url,dataType:"json",delay:50,data:function(f){if(a.isFunction(b.data)){var c=b.data(f);return a.extend(f,
c)}return{query:f.term,page:f.page}},processResults:function(a,b){b.page=b.page||1;return{results:a.items,pagination:{more:10*b.page<=a.total_count}}},cache:!0},escapeMarkup:function(a){return a},minimumInputLength:b.hasOwnProperty("minimumInputLength")?b.minimumInputLength:0,templateResult:b.hasOwnProperty("templateResult")?b.templateResult:function(a){if(a.loading)return a.text;var c="undefined"!==typeof b.column?b.column:"";if(""!==c&&"undefined"!==typeof a[c])return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'>"+
a[c]+"</div>";if("undefined"!==typeof a.name)return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'>"+a.name+"</div>";if("undefined"!==typeof a.code)return"<div class='select2-result-repository clearfix'><div class='select2-result-repository__title'>"+a.code+"</div>"},templateSelection:b.hasOwnProperty("templateSelection")?b.templateSelection:function(a){var c="undefined"!==typeof b.column?b.column:"",d=a.text;""!==c&&"undefined"!==typeof a[c]?d=a[c]:
("undefined"!==typeof a.name&&(d=a.name),"undefined"!==typeof a.code&&(d=a.code));return d}};return this.select2(c)});a.isFunction(a.fn.timepicker)&&(a.extend(!0,a.fn.timepicker.defaults,{showMeridian:!1,explicitMode:!0,defaultTime:!1}),a(".timepicker").timepicker());a.isFunction(a.fn.datepicker)&&(a.extend(!0,a.fn.datepicker.defaults,{format:"dd-mm-yyyy",autoclose:!0,orientation:"bottom left",todayHighlight:!0}),a(".datepicker").datepicker());a.isFunction(a.fn.alphanum)&&(a(".alphanum").alphanum({allow:"-_,./%#@()*"}),
a(".email, .username").alphanum({allow:"@.-_"}),a(".address").alphanum({allow:".,/-"}),a(".number").numeric(),a(".string").alpha());"object"===typeof toastr&&(a.fn.noti=function(a){var b={closeButton:!0,debug:!1,positionClass:"toast-top-right",newestOnTop:!0,onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};"success"===a.type?toastr.success(a.content,a.title,b):"error"===a.type?
toastr.error(a.content,a.title,b):"warning"===a.type&&toastr.warning(a.content,a.title,b)});a.isFunction(a.fn.bt)&&(a.fn.tooltip=function(b){a(this).bt(b.message,{trigger:"none",clickAnywhereToClose:!1,positions:["top"],fill:"rgba(33, 33, 33, .8)",spikeLength:10,spikeGirth:10,cssStyles:{color:"#FFF",fontSize:"11px",textAlign:"justify",width:"auto"}}).btOn()});a.isFunction(a.fn.mask)&&a(".ip-mask").mask("0ZZ.0ZZ.0ZZ.0ZZ",{translation:{Z:{pattern:/[0-9]/,optional:!0}},placeholder:"___.___.___.___"});
if("undefined"!==typeof numeral&&a.isFunction(numeral))a(document).on("change",".currency",function(){var b=a(this).val();a(this).val(numeral(b).format("0,0.0"))});a(document).on("click",".cb-all",function(){var b=a(".cb-single"),c=b.parents("tr");a(this).is(":checked")?(b.prop("checked","checked"),c.addClass("selected")):(b.prop("checked",""),c.removeClass("selected"))});a(document).on("click",".cb-single",function(){var b=a(".cb-single"),c=a(this).parents("tr"),d=a(".cb-all");a(this).is(":checked")?
(c.addClass("selected"),b.length===a(".cb-single:checked").length?d.prop("checked","checked"):d.prop("checked","")):(c.removeClass("selected"),d.prop("checked",""))});a(document).ajaxComplete(a.unblockUI);a(document).ajaxError(function(b,c){a.unblockUI();a("body").noti({type:"error",title:c.status})});a(document).on("change",".email, .require, .password",function(){if(!a(this).hasClass("detail-input")){var b=utils.validateElement(a(this));utils.addClassValidate(a(this),b.hasError,b.message)}});a("input, textarea").focus(function(){a(this).select()});
a(document).on("hidden.bs.modal",function(){a(".modal:visible").length&&a("body").addClass("modal-open")});a(document).on("shown.bs.modal",".modal",function(){a.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()})})(jQuery,window);
var utils=function(){return{goToUrl:function(a,d){$.blockUI();""===a&&(location.href=d);location.href=d+"/"+a},showModal:function(a,d,e){$.blockUI();return $.ajax({url:d,data:a,type:"POST",success:function(a){e.find(".modal-content").html(a);e.modal({backdrop:"static",keyboard:!0})}})},getValues:function(a){return _.map($("."+a),function(a){return $(a).val()})},showErrorSummary:function(a,d){var e="Please fix the following errors:";"vi"===$("html").attr("lang")&&(e="Vui l\u00f2ng s\u1eeda c\u00e1c l\u1ed7i sau \u0111\u00e2y:");
var b="Error";try{b="<ul>";if("string"===typeof a)b+="<li> "+a+" </li>";else for(var c in a)a.hasOwnProperty(c)&&(b+="<li> "+a[c]+" </li>");b+="</ul>"}catch(f){b="Error"}$(d).find("#error_summary").find(".alert").remove().end().append('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong>'+e+"</strong> "+b+"</div>");$("html, body").animate({scrollTop:0},"fast")},
addClassValidate:function(a,d,e){if(d)return a.is("select")?(a.select2("open"),a.next().find(".select2-selection__rendered").tooltip({message:e}),a.next().find(".select2-selection").removeClass("success").addClass("error")):(a.tooltip({message:e}),a.removeClass("success").addClass("error")),!1;a.is("select")?(a.next().find(".select2-selection__rendered").btOff(),a.next().find(".select2-selection").removeClass("error").addClass("success")):a.hasClass("error")&&(a.removeClass("error").addClass("success"),
a.btOff())},validateElement:function(a){var d="",e=!1,b=$.trim(a.val()),c=$("html").attr("lang");!a.hasClass("require")||""!==b&&null!==b||(d="en"===c?"Please enter value":"Vui l\u00f2ng nh\u1eadp gi\u00e1 tr\u1ecb",a.is("select")&&(d="en"===c?"Please choose value":"Vui l\u00f2ng ch\u1ecdn gi\u00e1 tr\u1ecb"),e=!0);a.hasClass("email")&&null===b.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)&&(d="en"===c?
"Invalid email":"Email kh\u00f4ng h\u1ee3p l\u1ec7",e=!0);if(a.hasClass("password")&&0<b.length){a=[];a.push("[A-Z]");a.push("[a-z]");a.push("[0-9]");a.push("[!@#$%^&*()_+=?></.,`~]");for(var f=0,k=0;k<a.length;k++)(new RegExp(a[k])).test(b)&&f++;2<f&&8<b.length&&f++;2>f&&(d="en"===c?"Weak password":"M\u1eadt kh\u1ea9u y\u1ebfu",e=!0)}return{message:d,hasError:e}},validate:function(a,d){var e=!0,b=this,c=$("#"+a);c.find(".form-control:not("+d+" .form-control)").each(function(){var a=b.validateElement($(this)),
c=a.message;e=a.hasError;b.addClassValidate($(this),a.hasError,c)});return 0<c.find(".error:not("+d+" .error)").length?!1:!0!==e},deleteRow:function(a,d,e){var b=a.data("id"),c=a.data("url");a.parents("tr").addClass("danger");bootbox.confirm({size:"small",message:d,callback:function(d){d&&($.blockUI(),$.post(c,{id:b},function(a){"1"===a?($("body").noti({type:"success",content:"Success"}),e.clearPipeline().draw(!1)):$("body").noti({type:"error",content:"Fail"})}));a.parents("tr").removeClass("danger")}})},
submitForm:function(a,d){$.blockUI();return $.ajax({url:a,type:"POST",data:d,processData:!1,contentType:!1})}}}();
