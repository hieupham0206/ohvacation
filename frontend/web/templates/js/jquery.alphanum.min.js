(function(h){function m(d,t,c){d.each(function(){var d=h(this);d.off(".alphanum").on("keyup.alphanum change.alphanum paste.alphanum",function(a){var e="";a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.getData&&(e=a.originalEvent.clipboardData.getData("text/plain"));setTimeout(function(){var a=e,b=d.val();""==b&&0<a.length&&(b=a);a=t(b,c);if(b!=a){var y=d.alphanum_caret();d.val(a);b.length==a.length+1?d.alphanum_caret(y-1):d.alphanum_caret(y)}},0)}).on("keypress.alphanum",
function(a){var b=a.charCode?a.charCode:a.which;if((32<=b||10==b||13==b)&&!a.ctrlKey&&!a.metaKey){var b=String.fromCharCode(b),e=d.selection(),l=e.start,e=e.end,f=d.val(),b=f.substring(0,l)+b+f.substring(e);t(b,c)!=b&&a.preventDefault()}})})}function r(d,t){"undefined"==typeof t&&(t=k);var c={};h.extend(c,t,"string"===typeof d?n[d]:"undefined"==typeof d?{}:d);if("undefined"==typeof c.blacklist){var a=c.allow,b=new q(z+c.disallow),a=new q(a),b=b.subtract(a);c.blacklistSet=b}return c}function f(d){var a=
{};h.extend(a,B,"string"===typeof d?v[d]:"undefined"==typeof d?{}:d);return a}function p(d,a,c){if(c.maxLength&&d.length>=c.maxLength)return!1;if(0<=c.allow.indexOf(a)||c.allowSpace&&" "==a)return!0;if(!c.allowNewline&&("\n"==a||"\r"==a)||c.blacklistSet.contains(a)||!c.allowNumeric&&x[a])return!1;if(d=!c.allowUpper){d=a.toUpperCase();var g=a.toLowerCase();d=a==d&&d!=g?!0:!1}if(d)return!1;if(d=!c.allowLower)d=a.toUpperCase(),g=a.toLowerCase(),d=a==g&&d!=g?!0:!1;if(d)return!1;if(d=!c.allowCaseless)d=
a.toUpperCase()==a.toLowerCase()?!0:!1;return d||!c.allowLatin&&A.contains(a)||!c.allowOtherCharSets&&!x[a]&&!A.contains(a)?!1:!0}function a(d,a,c){if(x[a]){var g;g=c.maxDigits;g=""===g||isNaN(g)?!1:l(d)>=g?!0:!1;g||(g=c.maxPreDecimalPlaces,g=""===g||isNaN(g)||0<=d.indexOf(u)?!1:l(d)>=g?!0:!1);if(!g)if(g=c.maxDecimalPlaces,""===g||isNaN(g))g=!1;else{var b=d.indexOf(u);-1==b?g=!1:(b=d.substring(b),g=l(b)>=g?!0:!1)}if(g)return!1;g=!c.max||0>c.max?!1:parseFloat(d+a)>c.max?!0:!1;if(g)return!1;d=!c.min||
0<c.min?!1:parseFloat(d+a)<c.min?!0:!1;return d?!1:!0}!(g=c.allowPlus&&"+"==a&&""==d||c.allowMinus&&"-"==a&&""==d)&&(g=a==w&&c.allowThouSep)&&(0==d.length||0<=d.indexOf(u)?g=!1:(g=d.indexOf(w),0>g?g=!0:(b=d.lastIndexOf(w),g=3>d.length-b-1||0<l(d.substring(g))%3?!1:!0)));if(g)return!0;if(a==u){if(0<=d.indexOf(u)||c.allowDecSep&&0===c.maxDecimalPlaces)return!1;if(c.allowDecSep)return!0}return!1}function l(d){return(d+"").replace(/[^0-9]/g,"").length}function e(d,a){if("string"!=typeof d)return d;var c=
d.split(""),b=[],e,f;for(e=0;e<c.length;e++){f=c[e];var l=b.join("");p(l,f,a)&&b.push(f)}c=b.join("");a.forceLower?c=c.toLowerCase():a.forceUpper&&(c=c.toUpperCase());return c}function b(d,b){if("string"!=typeof d)return d;var c=d.split(""),g=[],e,f;for(e=0;e<c.length;e++){f=c[e];var l=g.join("");a(l,f,b)&&g.push(f)}return g.join("")}function q(a){if("string"==typeof a){var b={};a=a.split("");var c,e;for(c=0;c<a.length;c++)e=a[c],b[e]=!0;this.map=b}else this.map={}}h.fn.alphanum=function(a){a=r(a);
m(this,e,a);return this};h.fn.alpha=function(a){var b=r("alpha");a=r(a,b);m(this,e,a);return this};h.fn.numeric=function(a){var e=f(a);m(this,b,e);this.blur(function(){var a=parseFloat(h(this).val()),d=h(this);isNaN(a)?d.val(""):(!isNaN(e.min)&&a<e.min&&d.val(""),!isNaN(e.max)&&a>e.max&&d.val(""))});return this};var k={allow:"",disallow:"",allowSpace:!0,allowNewline:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,forceUpper:!1,forceLower:!1,maxLength:NaN},
B={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},n={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},v={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},z="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ \u00ac\u20ac\u00a3\u00a6",
w=",",u=".",x=function(){var a="0123456789".split(""),b={},c,e;for(c=0;c<a.length;c++)e=a[c],b[e]=!0;return b}(),A=new q("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");q.prototype.add=function(a){var b=this.clone(),c;for(c in a.map)b.map[c]=!0;return b};q.prototype.subtract=function(a){var b=this.clone(),c;for(c in a.map)delete b.map[c];return b};q.prototype.contains=function(a){return this.map[a]?!0:!1};q.prototype.clone=function(){var a=new q,b;for(b in this.map)a.map[b]=!0;return a};h.fn.alphanum.backdoorAlphaNum=
function(a,b){var c=r(b);return e(a,c)};h.fn.alphanum.backdoorNumeric=function(a,e){var c=f(e);return b(a,c)};h.fn.alphanum.setNumericSeparators=function(a){1==a.thousandsSeparator.length&&1==a.decimalSeparator.length&&(w=a.thousandsSeparator,u=a.decimalSeparator)}})(jQuery);
(function(h){function m(f,h){if(f.createTextRange){var a=f.createTextRange();a.move("character",h);a.select()}else null!=f.selectionStart&&(f.focus(),f.setSelectionRange(h,h))}function r(f){if("selection"in document){f=f.createTextRange();try{f.setEndPoint("EndToStart",document.selection.createRange())}catch(h){return 0}return f.text.length}if(null!=f.selectionStart)return f.selectionStart}h.fn.alphanum_caret=function(f,p){return"undefined"===typeof f?r(this.get(0)):this.queue(function(a){if(isNaN(f)){var l=
h(this).val().indexOf(f);!0===p?l+=f.length:"undefined"!==typeof p&&(l+=p);m(this,l)}else m(this,f);a()})}})(jQuery);
(function(h){var m=function(a){return a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:window},r=function(a,f){var e=h.Range.current(a).clone(),b=h.Range(a).select(a);if(!e.overlaps(b))return null;1>e.compare("START_TO_START",b)?(startPos=0,e.move("START_TO_START",b)):(fromElementToCurrent=b.clone(),fromElementToCurrent.move("END_TO_START",e),startPos=fromElementToCurrent.toString().length);endPos=0<=e.compare("END_TO_END",b)?b.toString().length:startPos+e.toString().length;return{start:startPos,
end:endPos}},f=function(a){var f=m(a);if(void 0!==a.selectionStart)return document.activeElement&&document.activeElement!=a&&a.selectionStart==a.selectionEnd&&0==a.selectionStart?{start:a.value.length,end:a.value.length}:{start:a.selectionStart,end:a.selectionEnd};if(f.getSelection)return r(a,f);try{if("input"==a.nodeName.toLowerCase()){var e=m(a).document.selection.createRange(),b=a.createTextRange();b.setEndPoint("EndToStart",e);var q=b.text.length;return{start:q,end:q+e.text.length}}var k=r(a,
f);if(!k)return k;var p=h.Range.current().clone(),n=p.clone().collapse().range,v=p.clone().collapse(!1).range;n.moveStart("character",-1);v.moveStart("character",-1);0!=k.startPos&&""==n.text&&(k.startPos+=2);0!=k.endPos&&""==v.text&&(k.endPos+=2);return k}catch(z){return{start:a.value.length,end:a.value.length}}},p=function(a,f,e){var b,h;e=e||0;for(var k=0;a[k];k++)if(b=a[k],3===b.nodeType||4===b.nodeType){h=e;var m=e+=b.nodeValue.length,n=f;"number"===typeof n[0]&&n[0]<m&&(n[0]={el:b,count:n[0]-
h});"number"===typeof n[1]&&n[1]<=m&&(n[1]={el:b,count:n[1]-h})}else 8!==b.nodeType&&(e=p(b.childNodes,f,e));return e};jQuery.fn.selection=function(a,h){return void 0!==a?this.each(function(){var e=m(this);if(this.setSelectionRange)void 0===h?(this.focus(),this.setSelectionRange(a,a)):(this.select(),this.selectionStart=a,this.selectionEnd=h);else if(this.createTextRange)e=this.createTextRange(),e.moveStart("character",a),e.moveEnd("character",(h||a)-this.value.length),e.select();else if(e.getSelection){var b=
e.document,e=e.getSelection(),b=b.createRange(),f=[a,void 0!==h?h:a];p([this],f);b.setStart(f[0].el,f[0].count);b.setEnd(f[1].el,f[1].count);e.removeAllRanges();e.addRange(b)}else e.document.body.createTextRange&&(b=document.body.createTextRange(),b.moveToElementText(this),b.collapse(),b.moveStart("character",a),b.moveEnd("character",void 0!==h?h:a),b.select())}):f(this[0])};h.fn.selection.getCharElement=p})(jQuery);
